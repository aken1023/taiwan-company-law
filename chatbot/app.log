C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Serving Flask app 'app'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5003
 * Running on http://192.168.0.40:5003
Press CTRL+C to quit
 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
127.0.0.1 - - [11/Feb/2026 00:26:49] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:26:49] "GET /static/style_new.css HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:26:49] "GET /static/app_new.js HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:26:49] "GET /api/status HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:27:05] "POST /api/judgments/search HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:27:59] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:27:59] "GET /static/style_new.css HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:28:00] "GET /static/app_new.js HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:28:00] "GET /api/status HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:28:13] "POST /api/judgments/search HTTP/1.1" 200 -
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\app.py', reloading
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\app.py.tmp.25224.1770741065932', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
127.0.0.1 - - [11/Feb/2026 00:33:22] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:33:22] "GET /static/style_new.css HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:33:22] "GET /static/app_new.js HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:33:23] "GET /api/status HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:33:32] "POST /api/refine HTTP/1.1" 200 -
Building prefix dict from the default dictionary ...
Loading model from cache C:\Users\aken1\AppData\Local\Temp\jieba.cache
Loading model cost 0.954 seconds.
Prefix dict has been built successfully.
127.0.0.1 - - [11/Feb/2026 00:33:36] "POST /api/chat HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:34:06] "POST /api/related-questions HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:34:30] "POST /api/refine HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:34:33] "POST /api/chat HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:35:06] "POST /api/related-questions HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:35:15] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:35:15] "GET /static/style_new.css HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:35:15] "GET /static/app_new.js HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:35:16] "GET /api/status HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:35:31] "POST /api/judgments/search HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:36:44] "POST /api/judgments/search HTTP/1.1" 400 -
127.0.0.1 - - [11/Feb/2026 00:37:37] "POST /api/judgments/search HTTP/1.1" 200 -
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\app.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\app.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
127.0.0.1 - - [11/Feb/2026 00:38:32] "POST /api/judgments/search HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:39:50] "POST /api/judgments/search HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:40:06] "POST /api/judgments/search HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:40:38] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:40:38] "GET /static/style_new.css HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:40:38] "GET /static/app_new.js HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:40:38] "GET /api/status HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:40:51] "POST /api/judgments/search HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:42:07] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 00:42:07] "GET /static/style_new.css HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:42:07] "GET /static/app_new.js HTTP/1.1" 304 -
127.0.0.1 - - [11/Feb/2026 00:42:07] "GET /api/status HTTP/1.1" 200 -
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\ai_handler.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
 * Detected change in 'C:\\Python313\\Lib\\pathlib\\_local.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\app.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
127.0.0.1 - - [11/Feb/2026 09:56:45] "GET /api/status HTTP/1.1" 200 -
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\app.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
127.0.0.1 - - [11/Feb/2026 09:58:31] "GET /api/status HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 09:59:33] "GET /test HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 09:59:33] "GET /api/status HTTP/1.1" 200 -
Building prefix dict from the default dictionary ...
Loading model from cache C:\Users\aken1\AppData\Local\Temp\jieba.cache
Loading model cost 0.861 seconds.
Prefix dict has been built successfully.
127.0.0.1 - - [11/Feb/2026 09:59:40] "POST /api/chat HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 09:59:40] "POST /api/chat HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 09:59:42] "POST /api/chat HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 09:59:42] "POST /api/chat HTTP/1.1" 200 -
127.0.0.1 - - [11/Feb/2026 09:59:43] "POST /api/chat HTTP/1.1" 200 -
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\indexer.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\searcher.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\searcher.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 * Debugger is active!
 * Debugger PIN: 102-291-096
 * Detected change in 'D:\\Code\\台灣法律\\公司法\\chatbot\\app.py', reloading
==================================================
  公司法知識庫聊天機器人
==================================================
已載入索引，共 564 個文件
AI 模式已啟用 (DeepSeek)

開啟 http://localhost:5000

 * Restarting with watchdog (windowsapi)
C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\jieba\_compat.py:18: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
==================================================
  公司法知識庫聊天機器人
==================================================
Traceback (most recent call last):
  File "D:\Code\台灣法律\公司法\chatbot\app.py", line 296, in <module>
    ix = get_index(INDEX_DIR)
  File "D:\Code\台灣法律\公司法\chatbot\indexer.py", line 250, in get_index
    if index_dir.exists() and index.exists_in(str(index_dir)):
                              ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\whoosh\index.py", line 136, in exists_in
    ix = open_dir(dirname, indexname=indexname)
  File "C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\whoosh\index.py", line 123, in open_dir
    return FileIndex(storage, schema=schema, indexname=indexname)
  File "C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\whoosh\index.py", line 421, in __init__
    TOC.read(self.storage, self.indexname, schema=self._schema)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aken1\AppData\Roaming\Python\Python313\site-packages\whoosh\index.py", line 656, in read
    schema = pickle.loads(stream.read_string())
AttributeError: Can't get attribute 'JiebaTokenizer' on <module '__main__' from 'D:\\Code\\台灣法律\\公司法\\chatbot\\app.py'>
